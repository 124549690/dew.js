comment
include
echo
config
assign
counter
cycle
lang

function
 -> link
 -> page

literal, endliteral
capture, endcapture
if, elseif, else, endif
loop, endloop
for, endfor
each, endeach



注释
-------------------------------
comment 仅出现在模板中，最终输出时会被移除。

{tpl:comment '注释'}
--------------------------------------------------------------


原文输出
-------------------------------
literal 区域内的数据将原文输出，不做任何特殊处理。

{tpl:literal}
<div>{tpl:echo data}</div>
{tpl:endliteral}
输出: 
<div>{tpl:echo data}</div>
--------------------------------------------------------------


变量输出
-------------------------------
echo 把变量值输出给用户。

{tpl:echo contact.name, ":", contact["email"]}
输出: 
lzx:hi.liuzhaoxin@gmail.com
--------------------------------------------------------------

包含模板
-------------------------------
属性        类型        是否必须  缺省值   描述
file        string      是        n/a      文件名
assign      string      否        n/a      将输出保存到指定变量中

include 用于在当前模板中包含其它模板。

header.tpl
<html>
<head><title>dew</title></head>
<body>

footer.tpl
</body>
</html>

loop.tpl
<li>data...</li>


{tpl:include file="header.tpl"}
data...
{tpl:include file="footer.tpl"}
输出: 
<html>
<head><title>dew</title></head>
<body>
data...
</body>
</html>

{tpl:include file="header.tpl"}
{tpl:include assign=loop file="loop.tpl"}
{tpl:echo loop}
{tpl:echo loop, loop}
{tpl:include file="footer.tpl"}
输出: 
<html>
<head><title>dew</title></head>
<body>
data...
data...
data...
</body>
</html>
--------------------------------------------------------------


引用设置变量
-------------------------------
属性      类型      是否必须  缺省值   描述
assign    string    是        n/a      使用变量作为引用
file      string    是        n/a      文件名
section   string    否        n/a      选择部分数据作为变量引用

config 用于从配置文件中加载数据。

author.json:
{
    "name" : "lzx", "gender" : "male", "age" : 23, 
    "other" : {"address": "china"}
}

__config__["xxx/author.json"] = {"name" : "lzx", "age" : 23, "gender" : "male", "other" : {"address": "china"}};

{tpl:config assign=author file="author.json"}
{tpl:echo "name: ", author.name, "; age: ", author.age, "; gender: ", author.gender}
输出:
name: lzx; age: 23; gender: male

{tpl:config assign=other file="author.json" section="other"}
{tpl:echo "address: ", other.address}
输出
address: china
--------------------------------------------------------------


捕获模板输出
-------------------------------
属性    类型    是否必须  缺省值   描述
assign  string  是        n/a      将输出保存到指定变量中

capture 的作用是捕获模板输出的数据并将其存储到一个变量里，而不是把它们输出到页面。
任何在 {tpl:capture assign=data}和{tpl:endcapture}之间的数据将被存储到变量data中，该变量由assign属性指定.

{tpl:capture assign=data}
<div class="data">text...</div>
{tpl:endcapture}

{tpl:echo data,data}
输出: 
<div class="data">text...</div>
<div class="data">text...</div>
--------------------------------------------------------------


判断语句
-------------------------------
属性       类型     是否必须   缺省值   描述
express    string   是         n/a      判断表达式

var a = 1, b = 2, c = 3;

{tpl:if a > b}
<div style="color:red">{tpl:echo a}</div>
{tpl:elseif b > c}
<div style="color:blue">{tpl:echo b}</div>
{tpl:else}
<div style="color:green">{tpl:echo c}</div>
{tpl:endif}
输出: 
<div style="color:green">3</div>
--------------------------------------------------------------


对象循环输出
-------------------------------
属性    类型     是否必须   缺省值   描述
input   string   是         n/a      需要循环的变量名
key     string   否         n/a      键变量名
value   string   否         n/a      值变量名

loop 循环一个对象。

var data = 
{
    "info" : {"name" : "lzx", "gender" : "male", "age" : 23}, 
    "other" : {"address": "china"}
}

{tpl:loop input=data key=key}
key : {tpl:echo key}
{tpl:endloop}
输出:
info
other

{tpl:loop input=data key=ckey value=cval}
category: {tpl:echo ckey}
  {tpl:loop input=cval key=dkey value=dval}
  {tpl:echo dkey} => {tpl:echo dval}
  {tpl:endloop}
{tpl:endloop}
输出: 
category: info
  name => lzx
  gender => male
  age => 23
category: other
  address => china
--------------------------------------------------------------


自定义循环
-------------------------------
属性   类型      是否必须   缺省值    描述
start  integer   否         0         循环起始数
end    integer   是         n/a       循环终始数
index  string    否         n/a       当前循环次数变量名
step   integer   否         1         循环步长

for 用于自定义循环。

{tpl:for start=0 end=5 index=i step=1}
{tpl:echo i}
{tpl:endfor}
输出:
0
1
2
3
4
--------------------------------------------------------------


数组遍历
-------------------------------
属性   类型      是否必须   缺省值    描述
input  string    是         n/a       需要数组遍历的变量名
start  integer   否         0         遍历执行的初始位置
index  string    否         n/a       数组索引变量名
value  string    否         n/a       值变量名
step   integer   否         1         遍历的步长

each 用于遍历数组中的数据。

            0, 1,     2, 3,        4, 5,       6, 7
var data = [1, "red", 2, "yellow", 3, "green", 4, "blue"];

1, 3, 5, 7
{tpl:each input=data start=1 value=val step=2}
color: {tpl:echo val}
{tpl:endeach}
输出: 
color: red
color: yellow
color: green
color: blue

0, 2, 4, 6
{tpl:each input=data value=val step=2}
number: {tpl:echo val}
{tpl:endeach}
输出: 
number: 1
number: 2
number: 3
number: 4

{tpl:each input=data start=-4 value=val}
{tpl:echo val}
{tpl:endeach}
输出: 
3
green
4
blue
--------------------------------------------------------------


变量赋值
-------------------------------
属性    类型      是否必须    缺省值    描述 
name    string    是          n/a       变量名
value   mixed     是          n/a       变量的值

assign 用于在模板被执行时为模板变量赋值。

{tpl:assign name=address value="chian"}
{tpl:echo address}
输出
chian
--------------------------------------------------------------


计数器
-------------------------------
属性        类型      是否必须  缺省值     描述
start       number    否        1          记数器初始值
step        number    否        1          记数器步长
direction   string    否        up         记数器方向(增/减)
assign      string    否        n/a        将输出保存到指定变量中

counter 用于输出一个记数过程，counter 保存了每次记数时的当前记数值。

{tpl:counter}
{tpl:counter}
{tpl:counter assign=timer}
{tpl:echo timer}
输出
1
2
2

{tpl:counter step=3}
{tpl:counter}
{tpl:counter}
输出
4
7

{tpl:counter start=10 step=2 direction="down"}
{tpl:counter}
{tpl:counter}
输出
8
6
--------------------------------------------------------------


自循环
-------------------------------
属性        类型      是否必须    缺省值     描述
values      string    是          n/a        待循环的值
assign      string    否          n/a        将输出保存到指定变量中
delimiter   string    否          ,          指出values 属性中使用的分隔符，默认是逗号

cycle 自循环数组值。

var data = [1, "red", 2, "yellow", 3, "green", 4, "blue"];

{tpl:each input=data value=val step=2}
number: {tpl:echo val} - {tpl:cycle values="yellow,green"}
{tpl:endeach}
输出: 
number: 1 - yellow
number: 2 - green
number: 3 - yellow
number: 4 - green

{tpl:each input=data step=2}
{tpl:cycle values="yellow,green" assign=cval}
{tpl:endeach}
{tpl:echo cval}
输出: 
yellow,green,yellow,green
--------------------------------------------------------------


多国语言
-------------------------------
属性      类型      是否必须  缺省值   描述
assign    string    否        n/a      使用变量作为引用
name      string    否        n/a      当前语种名变量
type      string    否        n/a      当前语种类型变量
list      string    否        n/a      当前语种列表变量
file      string    否        n/a      文件名
section   string    否        n/a      选择部分数据作为变量引用

lang 多国语言包选择。

{tpl:lang assign=fruit type=langType file="fruit.json"}
{tpl:echo langType, ": ", fruit.apple}
输出: 
zh-cn: 苹果

{tpl:lang assign=tool file="tool.json"}
{tpl:echo tool.book}
输出: 
书

{tpl:lang list=langList}
{tpl:loop input=langList key=name value=value}
{tpl:echo name, " : ", value}
{tpl:endloop}
输出: 
zh-cn : 简体中文
zh-tw : 繁體中文
en : English
--------------------------------------------------------------


函数调用
-------------------------------
属性      类型      是否必须  缺省值   描述
call      string    是        n/a      函数名
assign    string    否        n/a      使用变量作为函数值引用


link
-------------------------------
link 动态生成 url 地址函数。

{tpl:function assign=url call=link(
  {controller : "articleController", action : "readAction", module : "Default"}, 
  {page : 2, id : 1000})}
{tpl:echo url}
输出: 
/article/read/2/10000

{tpl:function call=link("/article/read/:page/:id", {page : 2, id : 1000, token : "xxx"})}
输出: 
/article/read/2/10000?token=xxx
-------------------------------

page
-------------------------------
page 动态生成 page 分页地址函数。

{tpl:function assign=url call=page({
    url : "/index/#page#", 
    rowTotal : 188, 
    pageSize : 8, 
    pageStep : 7, 
    startIndex : 2, 
    prevText : "上一页", 
    nextText : "下一页", 
    paramKey : "#page#"
})}

输出: 
<a href="/?page=1">&lt;&lt;上一页</a>
<a href="/?page=1">1</a>
<span>2</span>
<a href="/?page=3">3</a>
<a href="/?page=4">4</a>
<a href="/?page=5">5</a>
<a href="/?page=6">6</a>
<a href="/?page=7">...</a>
<a href="/?page=3">下一页&gt;&gt;</a>
-------------------------------

更多...

--------------------------------------------------------------