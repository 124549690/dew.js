/**
 * @author     LiuZhaoHui <hi.liuzhaoxin@gmail.com>
 * @link       http://www.eatbean.com/nodejs
**/

"use strict";

module.exports = FlushAll;

var Data = Dew("use", "Server.Cache.Data");

function FlushAll (socket)
{
    this._socket = socket;
}

FlushAll.prototype = 
{
    constructor : FlushAll, 
    
    RETURN_STATE : 
    {
        ERROR : -1, 
        PART : 0, 
        COMPLETE : 1
    }, 
    
    parse : function (chunk, i, len)
    {
        // flush_all\r\n
        
        Data.flushAll();
        this._socket.write("OK\r\n");
        
        return this.RETURN_STATE.COMPLETE;
    }
};